var Xwzmain = {
	
	pageNav : function () {
		var timer = null;
		var timer2 = null;
		var timer3=null;
		var count=0;
		function navlisttitle() {
			//$('#nav-want-cont-wrap .nav-cont-wrap').stop(true, true).slideUp();
			$('#nav-cont-wrap .nav-cont-wrap').stop(true, true).delay(500).slideDown();
//			$("#nav-cont .nav-list").css({
//				"border-bottom" : "1px solid #eeeeee"
//			
//			});
		}

		function navContslide() {
			//$('#nav-cont-wrap .nav-cont-wrap').slideUp();
			//
			
			$(".nav-cont-wrap").hover(function(){
//				timer3 = setTimeout(function () {
//					navContslide();
//					$(".search-input").val(count);
//					count++;
//				}, 1000);
			},function(){
				$('#nav-cont .navlist a').removeClass('active');
				$('#nav-cont-wrap .nav-cont-wrap').find('ul').children().stop(true, false).slideUp(500, function (e) {
					$("#nav-cont .nav-list").css({
						"border-bottom" : ""
					});
				});
			});
			$(".logo").hover(function(){
				$('#nav-cont .navlist a').removeClass('active');
				$('#nav-cont-wrap .nav-cont-wrap').find('ul').children().slideUp(500, function (e) {
					$("#nav-cont .nav-list").css({
						"border-bottom" : ""
					});
				});
			},function(){
				
			});
			$("#myCarousel").hover(function(){
				$('#nav-cont .navlist a').removeClass('active');
				$('#nav-cont-wrap .nav-cont-wrap').find('ul').children().slideUp(500, function (e) {
					$("#nav-cont .nav-list").css({
						"border-bottom" : ""
					});
				});
			},function(){
				
			});
			

		}
		$(document).on('mouseenter', '#nav-cont .navlist div', function (e) {
			clearTimeout(timer2);
			timer = setTimeout(function () {
					navlisttitle();
				}, 500);
		}).on('mouseleave', '#nav-cont .navlist div', function (e) {
			clearTimeout(timer);
			timer2 = setTimeout(function () {
					navContslide();
					$("#nav-cont-wrap").css({
						"border-top" : "none"
					});
					$("#nav-want-cont-wrap").css({
						"border-top" : "none"
					});

				}, 500);
		})
		.on('mouseenter click', '#nav-cont .navlist a', function (e) {
			var $thisIndex = $('#nav-cont a').index(this);
			var $oldIndex = $('#nav-cont a').index($('#nav-cont a.active'));
			var delay_time = $('#nav-cont-wrap .nav-cont-wrap').find('ul').children(":visible").length === 0 ? 0 : 500;
			delay_time = 500;
			//alert($thisIndex)
			$('#nav-cont .navlist span.btn').removeClass('active');

			$(this).addClass('active').siblings().removeClass('active');
			//$('#nav-cont-wrap .nav-cont-wrap').find('ul').css({'margin-left':"-=" + $thisIndex*100+'%'});
			//$('#nav-cont-wrap .nav-cont-wrap').find('ul').stop(true, true).animate({'margin-left':-$thisIndex*100+'%'});
			//			$("#nav-cont-wrap").css({"border-top":"1px solid #fff"});
			$("#nav-cont .nav-list").css({
				"border-bottom" : "1px solid #eeeeee"
			});
			if ($oldIndex >= 0)
				$('#nav-cont-wrap .nav-cont-wrap').find('ul').children().eq($oldIndex).stop(true, true).delay(delay_time).slideUp();
			$('#nav-cont-wrap .nav-cont-wrap').find('ul').children().eq($thisIndex).stop(true, true).delay(delay_time).slideDown(400, function () {});
			if (!$(this).hasClass("js-no-menu"))
				return false;
		})
		;

	},
	mobileNav : function () {
		$(document).on("click touchstart", "#tab_main_nav_mobile_container ul li.home", function (e) {
			$(this).toggleClass('active').next('li').slideToggle();
		})
		.on("click touchstart", "#tab_main_nav_mobile_container ul li.hasmore", function (e) {
			var $thisIndex = $('#tab_main_nav_mobile_container ul li.hasmore').index(this);
			$('#tab_main_nav_mobile_next_container ul').eq($thisIndex).show().siblings('ul').hide();
			$('#tab_main_nav_mobile_next_container').addClass("mobile-menu-open").animate({
				'right' : 0
			});
			e.stopPropagation();
		})
		.on("click touchstart", "#tab_main_nav_mobile_next_container", function (e) {
			e.stopPropagation();
		})
		.on("click touchstart", "#tab_main_nav_mobile_next_container h3", function (e) {
			$(this).parent().removeClass("mobile-menu-open").animate({
				'right' : -100 + '%'
			});
		});
	}

};
// bof
!(function ($) {
	// bof dom ready
	$(function ($) {
		
		/*Xwzmain.pageNav();*/
		Xwzmain.mobileNav();

	});
	// eof dom ready
})(jQuery);
// eof

// bof
(function ($) {
	// bof dom ready
	$(function ($) {
		// news auto roll
		var news_timer = setInterval(function () {
				$(".js-next-news").trigger("click");
			}, 3000);

		$(document).on("click", "#tab_main_nav_close_mobile", function (e) {
			$("#nav_mobile").click();
		});
		
	});
	// eof dom ready
})(jQuery);
   
